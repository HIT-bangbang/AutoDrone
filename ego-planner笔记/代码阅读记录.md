这里主要讨论真实环境试验的情况（包括gazebo或者airsim中的仿真，毕竟它们是物理仿真），因为egoplanner给出的仿真环境并不是物理仿真，只是为了单纯验证轨迹规划模块并在rviz中可视化，并不涉及到飞控、PX4Ctrl等模块

ego_replan_fsm.cpp 为 swarm 的情况也进行了适配，但是需要注意的是：

* swarm 并不要求机器人数量一定多于一个，某些代码段虽然注释了 "for swarm" ，但是在只有1个无人机的情况下也会使用
* 目标点的设定有两种方法：
    * 在yaml文件中预设点，即 `target_type_ == TARGET_TYPE::PRESET_TARGET`
    * 在rviz中使用工具选点，及 `target_type_ == TARGET_TYPE::MANUAL_TARGET` 

* 预设点模式下，`have_trigger_` 一直都保持初始状态，因为该模式下根本不会创建 `trigger_sub_` 订阅 `"/traj_start_trigger"` 话题。初始状态根据实验是真实环境还是仿真来判断：
    ```c++
        have_trigger_ = !flag_realworld_experiment_;
    ```
    因为仿真时，没有PX4Ctrl发布 `"/traj_start_trigger"` 话题了，就只能指定 `have_trigger_` 为 true

* 同样，在手动选目标点模式下，也不会创建 `waypoint_sub_`


* 状态机中，`SEQUENTIAL_START` 和 `GEN_NEW_TRAJ` 这两个状态中执行的动作几乎一模一样。无人机从初始化状态(`INIT`) 切换到 (`WAIT_TARGET`) 状态后，等待进入这两个状态中的其中一个。

    * 如果是手动选目标点模式，当收到RVIZ发出的目标点后，回调函数 `waypointCallback` 调用 `planNextWaypoint` ，直接将状态切换到 `GEN_NEW_TRAJ`，不可能进入到 `SEQUENTIAL_START`
    * 如果是预设点模式，(`WAIT_TARGET`) 状态中检查到 have_target_ 且 have_trigger_ (回调函数 `trigger_sub_` 中置位) 后，切换为`SEQUENTIAL_START`